<!DOCTYPE html>
<html>
<body>
<h1>Test caméra iPhone</h1>
<div id="log"></div>
<button onclick="startCamera()">Démarrer caméra</button>
<video id="video" playsinline autoplay style="width:100vw;height:50vh;"></video>

<script>
const video = document.getElementById("video");
const logDiv = document.getElementById("log");
function log(msg) { logDiv.innerHTML += msg + "<br>"; }

async function startCamera() {
  try {
    log("Tentative d'accès caméra…");
    const stream = await navigator.mediaDevices.getUserMedia({video: {facingMode: {ideal:"environment"}}});
    video.srcObject = stream;
    await video.play();
    log("Caméra démarrée ✅");
  } catch(e) {
    log("Erreur : " + e.name + " / " + e.message);
  }
}
</script>
</body>
</html>
